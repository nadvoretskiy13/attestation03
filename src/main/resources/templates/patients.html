<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Регистратура больницы</title>
    <style>
        table { border-collapse: collapse; width: 90%; margin: 20px 0; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        form { margin: 0; display: inline; }
        input { margin: 5px; }
        button { padding: 5px 10px; margin-right: 5px; }
        .actions { white-space: nowrap; }
    </style>
</head>
<body>
<h1>Список пациентов</h1>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Фамилия</th>
        <th>Имя</th>
        <th>Дата рождения</th>
        <th>Паспорт</th>
        <th>Телефон</th>
        <th>Email</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="p : ${patients}">
        <td th:text="${p.id}">1</td>
        <td th:text="${p.lastName}">Иванов</td>
        <td th:text="${p.firstName}">Иван</td>
        <td th:text="${p.birthDate}">1990-01-01</td>
        <td th:text="${p.passportNumber}">AB123456</td>
        <td th:text="${p.phone}">+79990001122</td>
        <td th:text="${p.email}">ivan@example.com</td>
        <td class="actions">
            <form th:action="@{/patients/delete/{id}(id=${p.id})}" method="post">
                <button type="submit">Удалить</button>
            </form>
            <a th:href="@{/patients/edit/{id}(id=${p.id})}">Редактировать</a>
        </td>
    </tr>
    </tbody>
</table>

<h2>Добавить нового пациента</h2>
<form th:action="@{/patients}" th:object="${newPatient}" method="post">
    <input type="text" th:field="*{firstName}" placeholder="Имя" required />
    <input type="text" th:field="*{lastName}" placeholder="Фамилия" required />
    <input type="text" th:field="*{passportNumber}" placeholder="Паспорт" required />
    <input type="text" th:field="*{phone}" placeholder="Телефон" required />
    <input type="email" th:field="*{email}" placeholder="Email" required />
    <input type="date" th:field="*{birthDate}" placeholder="Дата рождения" required />
    <button type="submit">Добавить</button>
</form>

</body>
</html>